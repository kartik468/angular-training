<!DOCTYPE html>
<html>

<head>
    <title>form validation</title>
</head>

<body ng-app='formExample'>
    <style type="text/css">
    .ng-invalid.ng-dirty {
        border-color: #FA787E;
    }
    
    .ng-valid.ng-dirty {
        border-color: #78FA89;
    }
    </style>
    <div ng-controller="ExampleController">
        <form novalidate class="simple-form" name="reviewForm" novalidate>
            <div>YOUR INSTITUTION IS:
                <select ng-init="selectedName=institutionNames[0]" ng-model="selectedName" ng-options="x for x in institutionNames"></select>
            </div>
            <br />
            <div>*Username:
                <input type="email" ng-model="user.email" placeholder="Email (this will become your username)" required />
            </div>
            <br />
            <div>*Confirm Email:
                <input type="email" ng-model="user.confirmEmail" placeholder="Confirm Email" ng-class="{user.email === user.confirmEmail}" required />
            </div>
            <br />
            <div>*Password:
                <input type="password" ng-model="user.password" placeholder="Password" required />
            </div>
            <br />
            <div>*Re-enter Password:
                <input type="password" ng-model="user.reEnterPassword" placeholder="Re-enter Password" required />
            </div>
            <br />
            <div>*First Name:
                <input type="text" ng-model="user.firstName" placeholder="First Name" required />
            </div>
            <br />
            <div>Last Name:
                <input type="password" ng-model="user.lastName" placeholder="Last Name" />
            </div>
            <br />
            <!-- <input type="button" ng-click="reset()" value="Reset" /> -->
            <input type="submit" ng-click="submitForm(user, reviewForm.$valid)" value="Save" />
            <div>syntax of form: {{reviewForm.$valid}}</div>
            <div ng-show="formSubmitted">form submitted succssfully</div>
        </form>
        <!-- <pre>user = {{user | json}}</pre>
        <pre>master = {{master | json}}</pre> -->
        <script src="../app/lib/js/angular.js"></script>
        <script>
        var myApp = angular.module('formExample', []);
        myApp.controller('ExampleController', ['$scope', function($scope) {
            $scope.master = {};
            $scope.formSubmitted = false;
            $scope.institutionNames = ['Institution A', 'Institution B', 'Institution C']

            $scope.submitForm = function(user, valid) {
                if (valid && user.password === user.reEnterPassword && user.email === user.reEnterPassword) {
                    $scope.formSubmitted = true;
                    return;
                }
                alert('invalid form');
            };



            // $scope.reset = function() {
            //     $scope.user = angular.copy($scope.master);
            // };

            // $scope.reset();
        }]);
        </script>
    </div>
</body>

</html>
